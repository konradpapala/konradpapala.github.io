<!DOCTYPE html>
<!--

This is just page, which can be used as a "category" or "group" for example in various Tree Tabs plugins. like 
Tree Style Tab (Firefox): https://addons.mozilla.org/en-US/firefox/addon/tree-style-tab/
Or Tree Tabs (Opera): https://addons.opera.com/en/extensions/details/tree-tabs/

It just takes the title param from url and changes its own <title></title>tag content, which is then reflected in those plugins.

Just save this file somewhere on your computer and open it in your browser.

-->

<html>
  <head>
	<meta charset="UTF-8">
	<title>---- [group] ----</title>
	<style>
		body {
			margin: 0 auto;
			max-width: 50em;
			color:#444;
		}	
		
		h1 {
			margin-left:2em;
		}
	</style>
  </head>

  <body>

	<div>
		<h1>---- [group] ----</h1>
		<p>
			<small>
				Warning: this gonna be weird.<br>	
				This is just a "category" or "group" page for various Tree tabs plugins for Firefox / Opera.<br>
				Simply open it in a new tab, and threat this new tab as a category, where you put your other tabs.
			</small>
		</p>
			
		<form method = 'get'>
			<label for = 'title'>New title:</label >
			<input type  = 'text' id = 'title' name = 'title'>
			<button id = 'title-btn'>Go</button>
		</form>			
	</div>
	<script>
		(function(){
			//just a shortcut:
			let sel = (q) => document.querySelector(q);
			
			/*
			changing <html><head><title> content
			@param {string} newTitle - if null, we'll take it from the form' input
			*/
			function changeDocTitle(newTitle = null){
				if(newTitle === null) {
					newTitle = sel('#title').value;
				}
				sel('head title').textContent = newTitle;
				sel('h1').textContent = newTitle;
			}
		
			//what we have now in GET params?
			
			var url = new URL(window.location.href);
			var paramTitle = url.searchParams.get("title");		
			
			if(paramTitle){
				sel('#title').value = paramTitle;
				changeDocTitle();
			}
			
			//on change, on submit events		
			
			sel('#title').addEventListener('input',(event) => {
				changeDocTitle();
			});
			sel('#title-btn').addEventListener('click',(event) => {
				changeDocTitle(null,true);
			});		
		})();

		
	</script>
  </body>

</html> 